import Link from 'next/link';
import {useRouter} from "next/router";
import {PostInterface} from "../helpers/postInterface";
import {useEffect, useState} from "react";
import {atom, useRecoilState} from "recoil";
// const b: PostInterface[]=[
//     {svgPath: "M18.121,9.88l-7.832-7.836c-0.155-0.158-0.428-0.155-0.584,0L1.842,9.913c-0.262,0.263-0.073,0.705,0.292,0.705h2.069v7.042c0,0.227,0.187,0.414,0.414,0.414h3.725c0.228,0,0.414-0.188,0.414-0.414v-3.313h2.483v3.313c0,0.227,0.187,0.414,0.413,0.414h3.726c0.229,0,0.414-0.188,0.414-0.414v-7.042h2.068h0.004C18.331,10.617,18.389,10.146,18.121,9.88 M14.963,17.245h-2.896v-3.313c0-0.229-0.186-0.415-0.414-0.415H8.342c-0.228,0-0.414,0.187-0.414,0.415v3.313H5.032v-6.628h9.931V17.245z M3.133,9.79l6.864-6.868l6.867,6.868H3.133z", name: "Home Page", href:""},
//     {svgPath:"M17.211,3.39H2.788c-0.22,0-0.4,0.18-0.4,0.4v9.614c0,0.221,0.181,0.402,0.4,0.402h3.206v2.402c0,0.363,0.429,0.533,0.683,0.285l2.72-2.688h7.814c0.221,0,0.401-0.182,0.401-0.402V3.79C17.612,3.569,17.432,3.39,17.211,3.39M16.811,13.004H9.232c-0.106,0-0.206,0.043-0.282,0.117L6.795,15.25v-1.846c0-0.219-0.18-0.4-0.401-0.4H3.189V4.19h13.622V13.004z",name:"Chat Page",href:"/chat"},
//     {svgPath:"M15.573,11.624c0.568-0.478,0.947-1.219,0.947-2.019c0-1.37-1.108-2.569-2.371-2.569s-2.371,1.2-2.371,2.569c0,0.8,0.379,1.542,0.946,2.019c-0.253,0.089-0.496,0.2-0.728,0.332c-0.743-0.898-1.745-1.573-2.891-1.911c0.877-0.61,1.486-1.666,1.486-2.812c0-1.79-1.479-3.359-3.162-3.359S4.269,5.443,4.269,7.233c0,1.146,0.608,2.202,1.486,2.812c-2.454,0.725-4.252,2.998-4.252,5.685c0,0.218,0.178,0.396,0.395,0.396h16.203c0.218,0,0.396-0.178,0.396-0.396C18.497,13.831,17.273,12.216,15.573,11.624 M12.568,9.605c0-0.822,0.689-1.779,1.581-1.779s1.58,0.957,1.58,1.779s-0.688,1.779-1.58,1.779S12.568,10.427,12.568,9.605 M5.06,7.233c0-1.213,1.014-2.569,2.371-2.569c1.358,0,2.371,1.355,2.371,2.569S8.789,9.802,7.431,9.802C6.073,9.802,5.06,8.447,5.06,7.233 M2.309,15.335c0.202-2.649,2.423-4.742,5.122-4.742s4.921,2.093,5.122,4.742H2.309z M13.346,15.335c-0.067-0.997-0.382-1.928-0.882-2.732c0.502-0.271,1.075-0.429,1.686-0.429c1.828,0,3.338,1.385,3.535,3.161H13.346z",name:"About Us",href:"/"},
//     {svgPath:"M19.291,3.026c0.002-0.15-0.053-0.301-0.167-0.415c-0.122-0.122-0.286-0.172-0.444-0.161H1.196\n" +
//             "\t\t\t\t\t\t\t\tc-0.16-0.011-0.322,0.039-0.444,0.161C0.637,2.725,0.583,2.875,0.585,3.026c0,0.003-0.002,0.006-0.002,0.009v14.032\n" +
//             "\t\t\t\t\t\t\t\tc0,0.322,0.262,0.584,0.585,0.584h17.54c0.322,0,0.584-0.262,0.584-0.584V3.035C19.292,3.032,19.291,3.029,19.291,3.026z\n" +
//             "\t\t\t\t\t\t\t\t M17.147,3.619l-7.21,6.251L2.728,3.619H17.147z M18.122,15.896c0,0.323-0.261,0.584-0.584,0.584H2.337\n" +
//             "\t\t\t\t\t\t\t\tc-0.323,0-0.585-0.261-0.585-0.584V4.292l7.732,6.704c0.013,0.017,0.019,0.035,0.034,0.052c0.115,0.114,0.268,0.169,0.419,0.166\n" +
//             "\t\t\t\t\t\t\t\tc0.151,0.003,0.304-0.052,0.419-0.166c0.015-0.017,0.021-0.035,0.034-0.052l7.731-6.704V15.896z",name:"Contact Us",href:"/"}
// ]

export const userLogin= atom({
    key:"user",
    default:false
})
export default function UpperNavbar() {
    let router = useRouter()
    let [userLog,setUserLog]=useRecoilState(userLogin)
    let token=localStorage.getItem("token")


    function checkLogedin(){
        if (token == null){
            setUserLog(false)
        }else{
            setUserLog(true)
        }
    }
    console.log(userLog)

    useEffect(() => {
        checkLogedin()
    }, [])

    function logOut(){
        localStorage.removeItem("token")
    }
    return (
        <>
            <nav
                className='flex flex-wrap justify-between items-center bg-gray-400 p-1 w-screen '>
                <Link href='/'>
                    <a className={'inline-flex items-center p-2 hover:bg-purple-300  rounded-2xl duration-700 ' + (router.pathname == "/" ? "bg-purple-300" : "")}>
                        <svg viewBox='0 0 25 25'
                             xmlns='http://www.w3.org/2000/svg'
                             className='fill-current text-white h-8 w-8 mr-2'
                        >
                            <path
                                d='M18.121,9.88l-7.832-7.836c-0.155-0.158-0.428-0.155-0.584,0L1.842,9.913c-0.262,0.263-0.073,0.705,0.292,0.705h2.069v7.042c0,0.227,0.187,0.414,0.414,0.414h3.725c0.228,0,0.414-0.188,0.414-0.414v-3.313h2.483v3.313c0,0.227,0.187,0.414,0.413,0.414h3.726c0.229,0,0.414-0.188,0.414-0.414v-7.042h2.068h0.004C18.331,10.617,18.389,10.146,18.121,9.88 M14.963,17.245h-2.896v-3.313c0-0.229-0.186-0.415-0.414-0.415H8.342c-0.228,0-0.414,0.187-0.414,0.415v3.313H5.032v-6.628h9.931V17.245z M3.133,9.79l6.864-6.868l6.867,6.868H3.133z'/>
                        </svg>
                        <span
                            className='hidden md:block text-sm text-white font-bold uppercase tracking-wide font-serif Cambria '>
                                Home Page
                                </span>
                    </a>
                </Link>

                <Link href='/chat'>
                    <a className={'inline-flex items-center p-2 mr-4 hover:bg-purple-300 rounded-2xl duration-700 ' + (router.pathname == "/chat" ? "bg-purple-300" : "")}>
                        <svg viewBox='0 0 20 20'
                             xmlns='http://www.w3.org/2000/svg'
                             className='fill-current text-white  h-8 w-8 mr-2'>
                            <path
                                d='M17.211,3.39H2.788c-0.22,0-0.4,0.18-0.4,0.4v9.614c0,0.221,0.181,0.402,0.4,0.402h3.206v2.402c0,0.363,0.429,0.533,0.683,0.285l2.72-2.688h7.814c0.221,0,0.401-0.182,0.401-0.402V3.79C17.612,3.569,17.432,3.39,17.211,3.39M16.811,13.004H9.232c-0.106,0-0.206,0.043-0.282,0.117L6.795,15.25v-1.846c0-0.219-0.18-0.4-0.401-0.4H3.189V4.19h13.622V13.004z'/>
                        </svg>
                        <span className='hidden md:block text-sm text-white font-bold uppercase  tracking-wide '>
                                Chat Page </span>
                    </a>
                </Link>

                <Link href='/allpost'>
                    <a className='inline-flex items-center p-2 mr-4 hover:bg-purple-300  rounded-2xl duration-700'>
                        <svg viewBox='0 0 20 20'
                             xmlns='http://www.w3.org/2000/svg'
                             className='fill-current text-white  h-8 w-8 mr-2'>
                            <path
                                d='M15.573,11.624c0.568-0.478,0.947-1.219,0.947-2.019c0-1.37-1.108-2.569-2.371-2.569s-2.371,1.2-2.371,2.569c0,0.8,0.379,1.542,0.946,2.019c-0.253,0.089-0.496,0.2-0.728,0.332c-0.743-0.898-1.745-1.573-2.891-1.911c0.877-0.61,1.486-1.666,1.486-2.812c0-1.79-1.479-3.359-3.162-3.359S4.269,5.443,4.269,7.233c0,1.146,0.608,2.202,1.486,2.812c-2.454,0.725-4.252,2.998-4.252,5.685c0,0.218,0.178,0.396,0.395,0.396h16.203c0.218,0,0.396-0.178,0.396-0.396C18.497,13.831,17.273,12.216,15.573,11.624 M12.568,9.605c0-0.822,0.689-1.779,1.581-1.779s1.58,0.957,1.58,1.779s-0.688,1.779-1.58,1.779S12.568,10.427,12.568,9.605 M5.06,7.233c0-1.213,1.014-2.569,2.371-2.569c1.358,0,2.371,1.355,2.371,2.569S8.789,9.802,7.431,9.802C6.073,9.802,5.06,8.447,5.06,7.233 M2.309,15.335c0.202-2.649,2.423-4.742,5.122-4.742s4.921,2.093,5.122,4.742H2.309z M13.346,15.335c-0.067-0.997-0.382-1.928-0.882-2.732c0.502-0.271,1.075-0.429,1.686-0.429c1.828,0,3.338,1.385,3.535,3.161H13.346z'/>
                        </svg>
                        <span className='hidden md:block text-sm text-white font-bold uppercase  tracking-wide '>
                                All Post </span>
                    </a>
                </Link>

                <Link href='/'>
                    <a className='inline-flex items-center p-2 mr-4 hover:bg-purple-300 hover:text-black rounded-2xl duration-700'
                    onClick={logOut}>
                        <svg viewBox='0 0 20 20'
                             xmlns='http://www.w3.org/2000/svg'
                             className='fill-current text-white h-8 w-8 mr-2'>
                            <path
                                d='M19.291,3.026c0.002-0.15-0.053-0.301-0.167-0.415c-0.122-0.122-0.286-0.172-0.444-0.161H1.196
								c-0.16-0.011-0.322,0.039-0.444,0.161C0.637,2.725,0.583,2.875,0.585,3.026c0,0.003-0.002,0.006-0.002,0.009v14.032
								c0,0.322,0.262,0.584,0.585,0.584h17.54c0.322,0,0.584-0.262,0.584-0.584V3.035C19.292,3.032,19.291,3.029,19.291,3.026z
								 M17.147,3.619l-7.21,6.251L2.728,3.619H17.147z M18.122,15.896c0,0.323-0.261,0.584-0.584,0.584H2.337
								c-0.323,0-0.585-0.261-0.585-0.584V4.292l7.732,6.704c0.013,0.017,0.019,0.035,0.034,0.052c0.115,0.114,0.268,0.169,0.419,0.166
								c0.151,0.003,0.304-0.052,0.419-0.166c0.015-0.017,0.021-0.035,0.034-0.052l7.731-6.704V15.896z'/>
                        </svg>
                        <span className='hidden md:block text-sm text-white font-bold uppercase tracking-wide '>
                                {userLog ? "Log out " : "Log in"} </span>
                    </a>
                </Link>
            </nav>
        </>
    )
}
